import SwiftUI
import WebKit

struct HomeScreen: View {
    
    @State var text = ""

    var body: some View {
        

            VStack{
                NavigationLink(destination: Settings(), label: { Text("Settings")
                        .foregroundColor(.secondary)
                        
                })
                HStack{
                    HStack{
                Image(systemName: "magnifyingglass")
                
                TextField("Search securities", text: $text)
                                   .foregroundColor(.black)
                }
                .padding()
                .background(Color(.secondarySystemBackground))
                .cornerRadius(8)
                .shadow(color: .secondary, radius: 2, x: 1, y: 1)
                if !text.isEmpty {
                                   Button(action: {
                                       self.text = ""
                                   }) {
                                       Image(systemName: "xmark.circle.fill")
                                   }
                               }
                                else
                                {
                                   EmptyView()
                               }
            }
                    
                Spacer()
                NavigationLink(destination: SelectServices(),
                               label: {Text("Link an account")
                        .foregroundColor(.black)
                        .frame(width: 200, height: 50, alignment: .center)
                        .background(Color.white)
                        .cornerRadius(8)
                        .shadow(color: .secondary, radius: 2, x: 1, y: 1)
                        
                })
                
                  
            }
            .padding(.horizontal)
            .navigationBarHidden(true)
        
    }
}

struct HomeScreen_Previews: PreviewProvider {
    static var previews: some View {
        HomeScreen()
    }
}
